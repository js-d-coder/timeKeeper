const fs = require('fs');
const path = require('path');

exports.createDirIfNotExists = (filename, absPath) => {

    pathToFile = path.join(absPath, filename);

    try {
        fs.accessSync(pathToFile);
        return true;
    }
    catch (exception) {
        try {
            fs.mkdirSync(pathToFile, 0750);
            return true;
        }
        catch (exception) {
            console.error(exception.message);
            return false;
        }
    }
}

exports.writeData = (filename, absPath, data) => {

    pathToFile = path.join(absPath, filename);

    try {
        fs.writeFileSync(pathToFile, data, {encoding: 'utf8', mode: 0640, flag: 'w'});
        return true;
    }
    catch (exception) {
        //console.error(exception.message);
        return false;
    }
}


exports.readFile = (filename, absPath) => {

    pathToFile = path.join(absPath, filename);

    try {
        return fs.readFileSync(pathToFile, {encoding: 'utf8', flag: 'r'}).trim();
    }
    catch (exception) {
        //console.log(exception.message);
        return false;
    }
}

exports.exists = (filename, absPath) => {

    pathToFile = path.join(absPath, filename);

    try {
        fs.accessSync(pathToFile);
        return true
    }
    catch (exception) {
        //console.log(exception.message);
        return false;
    }
}
